import logging

from shared import decode_signal_data, make_conn

# CHANGE THIS
TARGET_X = 478627
TARGET_Y = 424018


c, user, password = make_conn()

c.send_line(f"move 0 {'9'*200}")
c.recv_line()
logging.info("First move performed")
c.send_line(f"move {TARGET_X} {TARGET_Y}")
c.recv_line()
logging.info("Second move performed")

c.send_line(f"radio 0 a")
logging.info("Gathering signal data...")
c.recv_line()

decoded = decode_signal_data(bytearray.fromhex(c.recv_line().decode()))
print(decoded[0].decode())
